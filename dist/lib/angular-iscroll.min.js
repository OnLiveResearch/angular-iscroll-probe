/**
 * @license angular-iscroll v1.3.0, 2015-05-23T20:10:36+0200
 * (c) 2015 Martin Thorsen Ranang <mtr@ranang.org>
 * License: MIT
 */
!function(e,l){"function"==typeof define&&define.amd?define(["iscroll"],l):"object"==typeof exports?module.exports=l(require("iscroll")):e.angularIscroll=l(e.IScroll)}(this,function(e){"use strict";function l(e){return e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function r(){function e(e){angular.extend(n,e)}function l(){return n}function r(e,l,r){function o(l){l||(s.useIScroll=!1),e.$emit(r.disabled)}function i(l){l||(s.useIScroll=!0),e.$emit(r.enabled)}function t(e){s.useIScroll^e?o(e):i(e)}function c(l){e.$emit(r.refresh,l)}var s={useIScroll:!0};return{defaults:n,state:s,enable:i,disable:o,toggle:t,refresh:c}}var n={iScroll:{momentum:!0,mouseWheel:!0},directive:{asyncRefreshDelay:0,refreshInterval:!1}};_.each(s,function(e,l){n.directive[l]=void 0}),this.configureDefaults=e,this.getDefaults=l,r.$inject=["$rootScope","$log","iScrollSignals"],this.$get=r}function n(e){e()}function o(l,r,o,i,c,a){function u(e,l){r(function(){e.refresh()},l.directive.asyncRefreshDelay)}function f(r,i,a,f){function d(){null!==m&&o.cancel(m),angular.isDefined(r.iscrollInstance)&&delete r.iscrollInstance,g.destroy(),i.removeClass(t.on).addClass(t.off),i.children(".iscroll-scroller").attr("style",null),angular.forEach(I,n)}function v(){$&&($=!1,u(g,f),$=!0)}function S(){$=!1}function h(){$=!0}var g=new e(i[0],f.iScroll),$=!0,m=null;_.each(s,function(e,l){_.has(f.directive,l)&&g.on(e,f.directive[l])}),i.removeClass(t.off).addClass(t.on),angular.isDefined(a.iscrollInstance)&&(r.iscrollInstance=g),f.directive.asyncRefreshDelay!==!1&&u(g,f),g.on("scrollStart",S),g.on("scrollEnd",h),f.directive.refreshInterval!==!1&&(m=o(v,f.directive.refreshInterval));var I=[l.$on(c.disabled,d),l.$on(c.refresh,v),r.$on("$destroy",d)];return g}function d(e,r,o){function i(){r.hasClass(t.on)||f(e,r,o,u)}function s(){angular.forEach(d,n)}var u={iScroll:angular.extend({},e.iscroll||{},a.defaults.iScroll),directive:angular.extend({},a.defaults.directive)};angular.forEach(u.iScroll,function(e,l){a.defaults.directive.hasOwnProperty(l)&&(u.directive[l]=e,delete u.iScroll[l])});var d=[l.$on(c.enabled,i)];a.state.useIScroll?i():r.removeClass(t.on).addClass(t.off),e.$on("$destroy",s)}return{restrict:"A",link:d,scope:{iscroll:"=",iscrollInstance:"="}}}var i={disabled:"iscroll:disabled",enabled:"iscroll:enabled",refresh:"iscroll:refresh"},t={on:"iscroll-on",off:"iscroll-off"},c=["beforeScrollStart","scrollCancel","scrollStart","scroll","scrollEnd","flick","zoomStart","zoomEnd"],s=_.reduce(c,function(e,r){e["on"+l(r)]=r},{});return o.$inject=["$rootScope","$timeout","$interval","$log","iScrollSignals","iScrollService"],angular.module("angular-iscroll",[]).directive("iscroll",o).provider("iScrollService",r).constant("iScrollSignals",i)});